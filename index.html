<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kameleon AI</title>

<style>
body{margin:0;height:100vh;display:flex;justify-content:center;align-items:center;background:#07172a;font-family:Arial;color:#e5e7eb}
.box{width:90%;max-width:420px;background:#020617;border-radius:18px;padding:26px;text-align:center;box-shadow:0 30px 60px rgba(0,0,0,.6)}
button{padding:10px 16px;margin:4px;border:none;border-radius:10px;cursor:pointer}
.lang button{background:#e5e7eb}
.mode button{background:#1e293b;color:#e5e7eb}
.start{width:100%;padding:14px;font-size:18px;margin-top:12px;background:#e5e7eb}
input{width:100%;margin-top:12px;padding:12px;border-radius:10px;border:none}
.response{margin-top:14px;background:#020617;padding:12px;border-radius:10px;min-height:140px;white-space:pre-line;text-align:left}
</style>
</head>

<body>
<div class="box">

<div class="lang">
<button onclick="setLang('pl')">PL</button>
<button onclick="setLang('en')">EN</button>
</div>

<h2>ðŸ¦Ž Kameleon AI</h2>
<p id="subtitle">Projekt wczesnego dostÄ™pu</p>
<p id="status">Panel aplikacji â€“ gotowy do dziaÅ‚ania</p>

<div class="mode">
<button onclick="setMode('agent')">ðŸ§  Agent</button>
<button onclick="setMode('chat')">ðŸ’¬ Chat</button>
<button onclick="setMode('hybryda')">ðŸ”€ Hybryda</button>
</div>

<button class="start" onclick="startAI()">START</button>

<input id="input" placeholder="Napisz wiadomoÅ›Ä‡â€¦" onkeydown="if(event.key==='Enter') send()">
<div class="response" id="out"></div>

</div>

<script>
let lang=localStorage.getItem('lang')||'pl';
let mode=localStorage.getItem('mode')||'agent';
let memory=JSON.parse(localStorage.getItem('memory')||'[]');

function save(){localStorage.setItem('memory',JSON.stringify(memory));}

function setLang(l){lang=l;localStorage.setItem('lang',l);}
function setMode(m){mode=m;localStorage.setItem('mode',m);out.innerText='Tryb: '+m.toUpperCase();}

function startAI(){
  out.innerText='AI gotowa. Historia:\n';
  memory.forEach(m=>out.innerText+=m+'\n');
}

function intelligentReply(text){
  text=text.toLowerCase();

  if(mode==='chat'){
    if(text.includes('jak')) return 'ðŸ’¬ Dobrze ðŸ™‚ A Ty?';
    if(text.includes('co')) return 'ðŸ’¬ Opowiedz wiÄ™cej.';
    return 'ðŸ’¬ Rozumiem. Kontynuuj.';
  }

  if(mode==='agent'){
    if(text.includes('zrÃ³b')||text.includes('wykonaj'))
      return 'ðŸ§  Plan:\n1. Analiza\n2. DziaÅ‚anie\n3. Raport';
    if(text.includes('jak'))
      return 'ðŸ§  Analiza pytania. PrzygotowujÄ™ odpowiedÅº.';
    return 'ðŸ§  Zadanie zapisane. OczekujÄ™ dalszych danych.';
  }

  if(mode==='hybryda'){
    return 'ðŸ”€ Analiza:\nCel rozpoznany.\nOdpowiedÅº: dziaÅ‚amy krok po kroku.';
  }
}

function send(){
  const t=input.value.trim();
  if(!t)return;

  const r=intelligentReply(t);
  const entry='> '+t+'\n'+r+'\n';
  memory.push(entry);
  save();
  out.innerText+=entry;
  input.value='';
}
</script>

</body>
</html>
